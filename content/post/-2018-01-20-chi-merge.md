---
title: 卡方分箱 理解
date: '2018-01-20'
linkTitle: /2018/01/20/chi-merge/
source: Jiaxiang Li's Blog
description: |-
  卡方分箱是一种有监督的分箱，也就是向\(y\)进行投诚。 例如，我们要回归\(y = \beta_0 + \beta_1 x + u\)， 得知，\(x\)是连续的，但是不单调，因此要虚拟化。 我们都知道等频、等距、低频合并等方法弊端太多，瑕疵再说。 这里主要说卡方分箱。
  假设我们的\(y \in \{0,1,2\}\)，因此有两种分类， 这里是为了简化，理论上，\(y\)可以多分类。 我们sort下我们的连续变量\(x\)后， 发现，\(y\)变量Species和\(x\)变量Sepal.Length的关系如下。
  iris1 &lt;- iris %&gt;% select(Sepal.Length,Species) %&gt;% group_by(Sepal.Length,Species) %&gt;% summarise(n = n()) %&gt;% spread(Species,n, fill = 0) ## `summarise()` regrouping output by &#39;Sepal.Length&#39; (override with ...
disable_comments: true
---
卡方分箱是一种有监督的分箱，也就是向\(y\)进行投诚。 例如，我们要回归\(y = \beta_0 + \beta_1 x + u\)， 得知，\(x\)是连续的，但是不单调，因此要虚拟化。 我们都知道等频、等距、低频合并等方法弊端太多，瑕疵再说。 这里主要说卡方分箱。
假设我们的\(y \in \{0,1,2\}\)，因此有两种分类， 这里是为了简化，理论上，\(y\)可以多分类。 我们sort下我们的连续变量\(x\)后， 发现，\(y\)变量Species和\(x\)变量Sepal.Length的关系如下。
iris1 &lt;- iris %&gt;% select(Sepal.Length,Species) %&gt;% group_by(Sepal.Length,Species) %&gt;% summarise(n = n()) %&gt;% spread(Species,n, fill = 0) ## `summarise()` regrouping output by &#39;Sepal.Length&#39; (override with ...